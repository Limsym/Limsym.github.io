/**
 * 语言配置文件 - Language Configuration File
 * 包含网站所有需要翻译的文本
 * Contains all text that needs to be translated
 */

const translations = {
  "zh-CN": {
    // 元数据 - Metadata
    title: "冷世聪 - 个人简历",
    description: "冷世聪的个人简历网站，展示生物科学和医药业务相关经验与技能",
    keywords: "冷世聪,简历,生物科学,医药业务,研究助理,浙江中医药大学",
    
    // 导航 - Navigation
    nav_about: "关于我",
    nav_education: "教育背景",
    nav_experience: "工作经历",
    nav_campus: "校园经历",
    nav_skills: "专业技能",
    nav_certificates: "证书与奖项",
    nav_ai_assistant: "AI 助手",
    nav_contact: "联系方式",
    nav_dark_mode: "切换暗色模式",
    nav_light_mode: "切换亮色模式",
    nav_language: "语言 / Language",
    skip_to_content: "跳到主要内容",
    
    // 头部区域 - Header
    name: "冷世聪",
    tagline: "生物科学 | 交叉学科",
    contact_me: "联系我",
    download_resume: "下载简历",
    
    // 关于我 - About Me
    about: "关于我",
    bio_title: "生物科学 | 学科交叉",
    bio_content: "浙江中医药大学生物科学学士，现任杭州安凯生物医药有限公司国际业务员。专注于原料药对外贸易，擅长分子生物学技术和国际贸易数据分析。广泛涉猎生命科学的理论、实验、学术和市场，注重创新与团队协作。",
    email: "邮箱",
    phone: "电话",
    location: "浙江省杭州市西湖区",
    degree: "生物科学学士",
    
    // 教育背景 - Education
    education: "教育背景",
    university: "浙江中医药大学",
    university_degree: "生物科学学士",
    university_courses: "主修课程：分子生物学、细胞生物学、生物化学、遗传学、生物信息学、药理学",
    university_gpa: "GPA: 3.5/4.0",
    high_school: "杭州市西湖高级中学",
    high_school_type: "高中",
    high_school_desc: "理科实验班，获得多项学科竞赛奖项",
    
    // 工作经历 - Work Experience
    experience: "工作经历",
    company_ankai: "杭州安凯生物医药有限公司",
    position_ankai: "国际业务员 - 亚洲、欧洲",
    date_ankai: "2024.03 - 至今",
    desc_ankai_summary: "工作摘要：负责亚欧地区医药国际贸易业务，开发和维护客户关系",
    desc_ankai_market: "市场调研：参加CPHI、API等国内外展会，调研市场，制定销售策略",
    desc_ankai_document: "文件处理：处理国际贸易文件和流程，确保交易顺利进行",
    desc_ankai_production: "生产协调：与生产部门协调，确保产品质量和交付时间",
    desc_ankai_efficiency: "效率优化：设计和优化网络工具，推进信息共享，提升团队效率",
    desc_ankai_achievement: "工作成果：与海正药业、Pharmstd等近百家药企的领导人建立良好关系",
    desc_ankai_language: "工作语言：Business English",
    
    company_geyuan: "杭州格缘科技服务有限公司",
    position_geyuan: "学术编辑 - 医学Q4期刊",
    date_geyuan: "2023.04 - 2023.08",
    desc_geyuan_summary: "工作摘要：处理投稿，撰写邮件，组织评审，反馈意见，审阅出版",
    desc_geyuan_sop: "SOP建立：编撰工作指南，规范文件系统，确定审稿要点",
    desc_geyuan_optimization: "业务优化：领导创建业务记录智能系统，加速 200% 报表，同事欣喜",
    desc_geyuan_training: "科技培训：培训10人团队效率软件和AIGC的使用",
    desc_geyuan_achievement: "工作成果：出版论文30篇，优化多项任务",
    desc_geyuan_language: "工作语言：Academic English",
    
    company_zaas: "浙江省农业科学院 植物保护与微生物研究所",
    position_zaas: "科研实习生",
    date_zaas: "2022.01 - 2023.04",
    desc_zaas_patent: "在浙中医大、浙农科院和浙大指导下，以第一发明人成功申请1项微生物方向的国家发明专利，展现了抗压、科创和问题解决的能力",
    desc_zaas_skills: "熟练掌握分子生物学实验技能，包括PCR、ELISA、真核表达、CoIP等技术",
    desc_zaas_protein: "精通蛋白质表达与纯化技术，包括质粒构建、色谱分离、电泳分析等方法",
    desc_zaas_team: "参与团队科研项目，协助撰写研究报告和专利申请材料",
    
    // 校园经历 - Campus Experience
    campus_experience: "校园经历",
    project_title_molecular: "浙江中医药大学 分子医学研究所",
    project_date_molecular: "2020.09 - 2023.06",
    project_position_molecular: "研究方向（毕业论文）",
    project_desc_molecular_1: "通过虚拟筛选发现多种金葡菌呼吸蛋白(NdhC)的天然抑制剂，并鉴定出一种新型的反竞争性抑制剂(隐丹参酮)",
    project_desc_molecular_2: "通过前沿AI(AlphaFold2)和决策科学(MCDM)，设计、构建、表达NdhC突变体，发现了一处关键功能位点",
    project_desc_molecular_3: "每周参与实验室学术讨论，协助撰写研究报告和科研论文",
    
    project_title_lab: "浙江中医药大学 分子生物学和遗传学实验室",
    project_date_lab: "2020.09 - 2022.08",
    project_position_lab: "教学助理（勤工助学）",
    project_desc_lab_1: "负责实验室卫生维护，提供教学支持、技术指导",
    project_desc_lab_2: "协助实验室药剂仪器管理，确保充分、安全供应",
    project_desc_lab_3: "确保仪器安全和完整，编制、监控使用登记",
    project_desc_lab_4: "指导本科生进行基础实验操作，解答实验相关问题",
    
    // 专业技能 - Professional Skills
    skills: "专业技能",
    skill_category_lab: "实验技能",
    skill_lab_1: "蛋白质纯化",
    skill_lab_2: "突变蛋白筛选",
    skill_lab_3: "分子克隆",
    skill_lab_4: "Western Blot",
    skill_lab_5: "PCR技术",
    skill_lab_6: "细胞培养",
    skill_lab_7: "免疫组化",
    
    skill_category_computer: "计算机技能",
    skill_computer_1: "人工智能工具",
    skill_computer_2: "AlphaFold 2",
    skill_computer_3: "生物信息学工具",
    skill_computer_4: "微软开发者项目",
    skill_computer_5: "MATLAB",
    skill_computer_6: "Python",
    skill_computer_7: "数据库开发",
    
    skill_category_language: "语言能力",
    skill_language_1: "中文",
    skill_language_2: "英语（六级）",
    skill_language_3: "商务英语",
    skill_language_4: "学术写作",
    
    skill_category_soft: "软技能",
    skill_soft_1: "团队协作",
    skill_soft_2: "问题解决",
    skill_soft_3: "商务谈判",
    skill_soft_4: "项目管理",
    skill_soft_5: "创新思维",
    
    // 证书与奖项 - Certificates and Awards
    certificates: "证书与奖项",
    certificate_patent: "国家发明专利",
    certificate_patent_org: "国家知识产权局 | 2023",
    certificate_patent_desc: "一种真菌在水稻增产上的应用，第一发明人，由浙中医大、浙农科院和浙江大学联合指导",
    certificate_patent_detail: "冷世聪，梁世伟，林福呈，苏珍珠，朱加楠，一种利用内生真菌P-B313提高水稻种苗素质和谷粒产量的方法，国家发明专利ZL2022101341351",
    
    certificate_innovation: "创新创业大赛奖项",
    certificate_innovation_date: "2022-2023",
    certificate_innovation_1: "· 第八届中国国际互联网+大学生创新创业大赛铜奖 | 2023.11",
    certificate_innovation_2: "· 第八届浙江省国际互联网+大学生创新创业大赛银奖 | 2022.09",
    
    certificate_math: "数学建模竞赛",
    certificate_math_date: "2021-2022",
    certificate_math_1: "· 第三十七届美国大学生数学建模竞赛(MCM/ICM) S奖 | 2022.02",
    certificate_math_2: "· 第三十二届全国大学生数学建模竞赛(浙江赛区)二等奖 | 2021.09",
    certificate_math_3: "· 第一届长三角高校大学生数学建模竞赛三等奖 | 2021.05",
    
    certificate_science: "生命科学竞赛",
    certificate_science_date: "2020-2023",
    certificate_science_1: "· 浙中医大生命科学知识竞赛 | 2023.10",
    certificate_science_2: "· 第五届浙江省大学生环境生态科技创新大赛二等奖 | 2022.11",
    certificate_science_3: "· 浙江省大学生生命科学竞赛三等奖 | 2020.11",
    
    certificate_campus: "校园活动",
    certificate_campus_date: "浙江中医药大学 | 2019",
    certificate_campus_1: "· 优秀社团干部 | 2021.05",
    certificate_campus_2: "· 军训标兵 | 2020.09",
    certificate_campus_3: "· 启航杯辩论赛 | 2019.09",
    
    // 联系方式 - Contact
    contact: "联系方式",
    contact_info: "联系信息",
    address: "地址",
    social_media: "社交媒体",
    wechat: "微信",
    linkedin: "LinkedIn",
    github: "GitHub",
    researchgate: "ResearchGate",
    
    // 联系表单 - Contact Form
    send_message: "发送消息",
    contact_form: "联系表单",
    form_name: "姓名",
    form_email: "邮箱",
    form_subject: "主题",
    form_message: "消息",
    form_submit: "发送消息",
    form_success: "感谢您的留言！我会尽快回复。",
    form_submitting: "正在提交...",
    form_error: "发生未知错误，有劳手动发送邮件！",
    form_name_error: "请输入您的姓名",
    form_email_error: "请输入有效的邮箱地址",
    form_message_error: "请输入您的消息内容",
    
    // AI 助手 - AI Assistant
    ai_assistant: "AI 助手",
    ai_assistant_tip: "提示：1. 这是一个基于现代人工智能技术的对话模型，可以助您在背景、技能、性格等细节问题上了解冷世聪。\n2. 您可以直接在下方对话框中输入问题，AI 助手会实时为您解答。\n3. 所有对话内容都是私密的，不会被记录。流量高峰期间，AI 助手可能需要30秒才能工作。",
    
    // 页脚 - Footer
    footer_tagline: "生物科学 | 交叉学科",
    copyright: "© 2025 冷世聪. 保留所有权利.",
    back_to_top: "回到顶部"
  },
  
  en: {
    // 元数据 - Metadata
    title: "Leng Shicong - Resume",
    description: "Leng Shicong's personal resume website, showcasing experience and skills in biological science and pharmaceutical business",
    keywords: "Leng Shicong,resume,biological science,pharmaceutical business,research assistant,Zhejiang Chinese Medical University",
    
    // 导航 - Navigation
    nav_about: "About Me",
    nav_education: "Education",
    nav_experience: "Experience",
    nav_campus: "Campus Experience",
    nav_skills: "Skills",
    nav_certificates: "Certificates",
    nav_ai_assistant: "AI Assistant",
    nav_contact: "Contact",
    nav_dark_mode: "Switch to Dark Mode",
    nav_light_mode: "Switch to Light Mode",
    nav_language: "Language",
    skip_to_content: "Skip to main content",
    
    // 头部区域 - Header
    name: "Leng Shicong",
    tagline: "Biological Science | Interdisciplinary",
    contact_me: "Contact Me",
    download_resume: "Download Resume",
    
    // 关于我 - About Me
    about: "About Me",
    bio_title: "Biological Science | Interdisciplinary",
    bio_content: "Bachelor of Biological Science from Zhejiang Chinese Medical University, currently working as International Business Representative at Hangzhou Ankai Pharmaceutical Co., Ltd. Focused on API international trade, skilled in molecular biology techniques and international trade data analysis. Extensively involved in life science theory, experiments, academics, and markets, emphasizing innovation and teamwork.",
    email: "Email",
    phone: "Phone",
    location: "Xihu District, Hangzhou, Zhejiang",
    degree: "Bachelor of Biological Science",
    
    // 教育背景 - Education
    education: "Education",
    university: "Zhejiang Chinese Medical University",
    university_degree: "Bachelor of Biological Science",
    university_courses: "Major Courses: Molecular Biology, Cell Biology, Biochemistry, Genetics, Bioinformatics, Pharmacology",
    university_gpa: "GPA: 3.5/4.0",
    high_school: "Hangzhou Xihu High School",
    high_school_type: "High School",
    high_school_desc: "Science Experimental Class, received multiple subject competition awards",
    
    // 工作经历 - Work Experience
    experience: "Work Experience",
    company_ankai: "Hangzhou Ankai Pharmaceutical Co., Ltd.",
    position_ankai: "International Business Representative - Asia, Europe",
    date_ankai: "Feb 2024 - Present",
    desc_ankai_summary: "Work Summary: Responsible for pharmaceutical international trade business in Asia and Europe, developing and maintaining customer relationships",
    desc_ankai_market: "Market Research: Participate in domestic and international exhibitions such as CPHI and API, research markets, formulate sales strategies",
    desc_ankai_document: "Document Processing: Handle international trade documents and processes to ensure smooth transactions",
    desc_ankai_production: "Production Coordination: Coordinate with production department to ensure product quality and delivery time",
    desc_ankai_efficiency: "Efficiency Optimization: Design and optimize network tools, promote information sharing, improve team efficiency",
    desc_ankai_achievement: "Achievements: Established good relationships with leaders of nearly 100 pharmaceutical companies including Hisun Pharmaceutical and Pharmstd",
    desc_ankai_language: "Working Language: Business English",
    
    company_geyuan: "Hangzhou Geyuan Technology Service Co., Ltd.",
    position_geyuan: "Academic Editor - Medical Q4 Journal",
    date_geyuan: "Apr 2023 - Aug 2023",
    desc_geyuan_summary: "Work Summary: Process submissions, write emails, organize reviews, provide feedback, review publications",
    desc_geyuan_sop: "SOP Establishment: Compile work guidelines, standardize file systems, determine review key points",
    desc_geyuan_optimization: "Business Optimization: Led the creation of an intelligent business record system, accelerated reports by 200%, colleagues were delighted",
    desc_geyuan_training: "Technology Training: Trained a 10-person team on efficiency software and AIGC usage",
    desc_geyuan_achievement: "Achievements: Published 30 papers, optimized multiple tasks",
    desc_geyuan_language: "Working Language: Academic English",
    
    company_zaas: "Zhejiang Academy of Agricultural Sciences, Institute of Plant Protection and Microbiology",
    position_zaas: "Research Intern",
    date_zaas: "Jan 2022 - Apr 2023",
    desc_zaas_patent: "Successfully applied for a national invention patent in microbiology as the first inventor under the guidance of ZCMU, ZAAS, and Zhejiang University, demonstrating resilience, innovation, and problem-solving abilities",
    desc_zaas_skills: "Proficient in molecular biology experimental skills, including PCR, ELISA, eukaryotic expression, CoIP, and other techniques",
    desc_zaas_protein: "Expert in protein expression and purification techniques, including plasmid construction, chromatographic separation, electrophoresis analysis, and other methods",
    desc_zaas_team: "Participated in team research projects, assisted in writing research reports and patent application materials",
    
    // 校园经历 - Campus Experience
    campus_experience: "Campus Experience",
    project_title_molecular: "Zhejiang Chinese Medical University, Institute of Molecular Medicine",
    project_date_molecular: "Sep 2020 - Jun 2023",
    project_position_molecular: "Research Direction (Graduation Thesis)",
    project_desc_molecular_1: "Discovered multiple natural inhibitors of Staphylococcus aureus respiratory protein (NdhC) through virtual screening, and identified a novel non-competitive inhibitor (cryptotanshinone)",
    project_desc_molecular_2: "Designed, constructed, and expressed NdhC mutants using cutting-edge AI (AlphaFold2) and decision science (MCDM), discovering a key functional site",
    project_desc_molecular_3: "Participated in weekly laboratory academic discussions, assisted in writing research reports and scientific papers",
    
    project_title_lab: "Zhejiang Chinese Medical University, Molecular Biology and Genetics Laboratory",
    project_date_lab: "Sep 2020 - Aug 2022",
    project_position_lab: "Teaching Assistant (Work-Study)",
    project_desc_lab_1: "Responsible for laboratory hygiene maintenance, providing teaching support and technical guidance",
    project_desc_lab_2: "Assisted in laboratory reagent and equipment management, ensuring adequate and safe supply",
    project_desc_lab_3: "Ensured equipment safety and integrity, compiled and monitored usage records",
    project_desc_lab_4: "Guided undergraduate students in basic experimental operations, answered experiment-related questions",
    
    // 专业技能 - Professional Skills
    skills: "Professional Skills",
    skill_category_lab: "Laboratory Skills",
    skill_lab_1: "Protein Purification",
    skill_lab_2: "Mutant Protein Screening",
    skill_lab_3: "Molecular Cloning",
    skill_lab_4: "Western Blot",
    skill_lab_5: "PCR Techniques",
    skill_lab_6: "Cell Culture",
    skill_lab_7: "Immunohistochemistry",
    
    skill_category_computer: "Computer Skills",
    skill_computer_1: "AI Tools",
    skill_computer_2: "AlphaFold 2",
    skill_computer_3: "Bioinformatics Tools",
    skill_computer_4: "Microsoft Developer Program",
    skill_computer_5: "MATLAB",
    skill_computer_6: "Python",
    skill_computer_7: "Database Development",
    
    skill_category_language: "Language Skills",
    skill_language_1: "Chinese",
    skill_language_2: "English (CET-6)",
    skill_language_3: "Business English",
    skill_language_4: "Academic Writing",
    
    skill_category_soft: "Soft Skills",
    skill_soft_1: "Team Collaboration",
    skill_soft_2: "Problem Solving",
    skill_soft_3: "Business Negotiation",
    skill_soft_4: "Project Management",
    skill_soft_5: "Innovative Thinking",
    
    // 证书与奖项 - Certificates and Awards
    certificates: "Certificates and Awards",
    certificate_patent: "National Invention Patent",
    certificate_patent_org: "China National Intellectual Property Administration | 2023",
    certificate_patent_desc: "Application of a fungus in rice yield increase, as the first inventor, guided jointly by ZCMU, ZAAS, and Zhejiang University",
    certificate_patent_detail: "Leng Shicong, Liang Shiwei, Lin Fucheng, Su Zhenzhu, Zhu Jianan, A method for improving rice seedling quality and grain yield using endophytic fungus P-B313, National Invention Patent ZL2022101341351",
    
    certificate_innovation: "Innovation and Entrepreneurship Competition Awards",
    certificate_innovation_date: "2022-2023",
    certificate_innovation_1: "· Bronze Award in the 8th China International 'Internet+' College Students' Innovation and Entrepreneurship Competition | Nov 2023",
    certificate_innovation_2: "· Silver Award in the 8th Zhejiang Provincial International 'Internet+' College Students' Innovation and Entrepreneurship Competition | Sep 2022",
    
    certificate_math: "Mathematical Modeling Competitions",
    certificate_math_date: "2021-2022",
    certificate_math_1: "· Successful Participant Award in the 37th American College Student Mathematical Modeling Competition (MCM/ICM) | Feb 2022",
    certificate_math_2: "· Second Prize in the 32nd National College Student Mathematical Modeling Competition (Zhejiang Division) | Sep 2021",
    certificate_math_3: "· Third Prize in the 1st Yangtze River Delta College Student Mathematical Modeling Competition | May 2021",
    
    certificate_science: "Life Science Competitions",
    certificate_science_date: "2020-2023",
    certificate_science_1: "· ZCMU Life Science Knowledge Competition | Oct 2023",
    certificate_science_2: "· Second Prize in the 5th Zhejiang Provincial College Students' Environmental Ecology Science and Technology Innovation Competition | Nov 2022",
    certificate_science_3: "· Third Prize in Zhejiang Provincial College Students' Life Science Competition | Nov 2020",
    
    certificate_campus: "Campus Activities",
    certificate_campus_date: "Zhejiang Chinese Medical University | 2019",
    certificate_campus_1: "· Outstanding Club Cadre | May 2021",
    certificate_campus_2: "· Military Training Model | Sep 2020",
    certificate_campus_3: "· Sailing Cup Debate Competition | Sep 2019",
    
    // 联系方式 - Contact
    contact: "Contact",
    contact_info: "Contact Information",
    address: "Address",
    social_media: "Social Media",
    wechat: "WeChat",
    linkedin: "LinkedIn",
    github: "GitHub",
    researchgate: "ResearchGate",
    
    // 联系表单 - Contact Form
    send_message: "Send Message",
    contact_form: "Contact Form",
    form_name: "Name",
    form_email: "Email",
    form_subject: "Subject",
    form_message: "Message",
    form_submit: "Send Message",
    form_success: "Thank you for your message! I will reply as soon as possible.",
    form_submitting: "Submitting...",
    form_error: "An unknown error occurred, please send an email manually!",
    form_name_error: "Please enter your name",
    form_email_error: "Please enter a valid email address",
    form_message_error: "Please enter your message",
    
    // AI 助手 - AI Assistant
    ai_assistant: "AI Assistant",
    ai_assistant_tip: "Tips: 1. This is a dialogue model based on modern artificial intelligence technology that can help you understand Leng Shicong in terms of background, skills, personality, and other details.\n2. You can directly input questions in the dialogue box below, and the AI Assistant will answer in real-time.\n3. All conversation content is private and will not be recorded. During peak traffic periods, the AI Assistant may take up to 30 seconds to work.",
    
    // 页脚 - Footer
    footer_tagline: "Biological Science | Interdisciplinary",
    copyright: "© 2025 Leng Shicong. All rights reserved.",
    back_to_top: "Back to Top"
  }
};

// 默认语言
let currentLanguage = 'zh-CN';

// 获取当前语言的翻译
function getText(key) {
  return translations[currentLanguage][key] || translations['zh-CN'][key] || key;
}

// 切换语言
function switchLanguage(lang) {
  if (translations[lang]) {
    currentLanguage = lang;
    updatePageLanguage();
    // 更新语言切换按钮文本
    updateCurrentLanguageDisplay();
    // 保存语言偏好到本地存储
    localStorage.setItem('language', lang);
  }
}

// 更新页面上所有需要翻译的元素
function updatePageLanguage() {
  // 更新HTML lang属性
  document.documentElement.lang = currentLanguage;
  
  // 更新页面标题
  document.title = getText('title');
  
  // 更新元数据
  document.querySelector('meta[name="description"]').setAttribute('content', getText('description'));
  document.querySelector('meta[name="keywords"]').setAttribute('content', getText('keywords'));
  
  // 更新导航链接
  updateElementText('#nav-about', 'nav_about');
  updateElementText('#nav-education', 'nav_education');
  updateElementText('#nav-experience', 'nav_experience');
  updateElementText('#nav-campus', 'nav_campus');
  updateElementText('#nav-skills', 'nav_skills');
  updateElementText('#nav-certificates', 'nav_certificates');
  updateElementText('#nav-ai-assistant', 'nav_ai_assistant');
  updateElementText('#nav-contact', 'nav_contact');
  
  // 更新移动端导航
  document.querySelectorAll('#mobile-menu a').forEach(link => {
    const href = link.getAttribute('href');
    if (href === '#about') updateElementContent(link, 'nav_about');
    if (href === '#education') updateElementContent(link, 'nav_education');
    if (href === '#experience') updateElementContent(link, 'nav_experience');
    if (href === '#campus-experience') updateElementContent(link, 'nav_campus');
    if (href === '#skills') updateElementContent(link, 'nav_skills');
    if (href === '#certificates') updateElementContent(link, 'nav_certificates');
    if (href === '#ai-assistant') updateElementContent(link, 'nav_ai_assistant');
    if (href === '#contact') updateElementContent(link, 'nav_contact');
  });
  
  // 更新移动端语言切换文本
  const mobileLanguageText = document.querySelector('#mobile-menu .flex.items-center.justify-between span');
  if (mobileLanguageText) {
    mobileLanguageText.textContent = getText('nav_language');
  }
  
  // 移动端语言切换按钮文本已在updateCurrentLanguageDisplay函数中更新
  
  // 更新暗色模式切换按钮文本
  const darkModeText = document.querySelector('#mobile-menu .dark\\:hidden');
  const lightModeText = document.querySelector('#mobile-menu .hidden.dark\\:block');
  if (darkModeText) darkModeText.textContent = getText('nav_dark_mode');
  if (lightModeText) lightModeText.textContent = getText('nav_light_mode');
  
  // 更新跳过导航链接
  updateElementText('.skip-to-content', 'skip_to_content');
  
  // 更新头部区域
  updateElementText('header h1', 'name');
  updateElementText('header p', 'tagline');
  updateElementText('header a[href="#contact"]', 'contact_me');
  updateElementText('header a[onclick]', 'download_resume');
  
  // 更新各部分标题
  updateElementText('#about h2', 'about');
  updateElementText('#education h2', 'education');
  updateElementText('#experience h2', 'experience');
  updateElementText('#campus-experience h2', 'campus_experience');
  updateElementText('#skills h2', 'skills');
  updateElementText('#certificates h2', 'certificates');
  updateElementText('#ai-assistant-title', 'ai_assistant');
  updateElementText('#contact h2', 'contact');
  
  // 更新AI助手提示文本
  updateElementText('#ai-assistant-tip', 'ai_assistant_tip');
  
  // 更新关于我部分
  updateElementText('#about .uppercase', 'bio_title');
  updateElementText('#about h3', 'name');
  updateElementText('#about p.mt-4', 'bio_content');
  
  // 更新联系信息图标标签
  const contactIcons = document.querySelectorAll('#about .flex.items-center');
  contactIcons.forEach(icon => {
    const iconClass = icon.querySelector('i').className;
    if (iconClass.includes('envelope')) {
      updateElementText(icon.querySelector('span a'), 'email', true);
    } else if (iconClass.includes('phone')) {
      updateElementText(icon.querySelector('span a'), 'phone', true);
    } else if (iconClass.includes('map-marker')) {
      updateElementText(icon.querySelector('span'), 'location');
    } else if (iconClass.includes('graduation-cap')) {
      updateElementText(icon.querySelector('span'), 'degree');
    }
  });
  
  // 更新联系方式部分的地址标签
  const contactAddress = document.querySelector('#contact .text-sm.text-gray-500:nth-of-type(3)');
  if (contactAddress) {
    updateElementText(contactAddress, 'address');
  }
  
  // 更新工作经历部分
  // 安凯生物医药
  const ankaiItems = document.querySelectorAll('#experience .timeline-item:nth-child(1) .list-disc li');
  if (ankaiItems.length >= 7) {
    updateElementContent(ankaiItems[0], 'desc_ankai_summary');
    updateElementContent(ankaiItems[1], 'desc_ankai_market');
    updateElementContent(ankaiItems[2], 'desc_ankai_document');
    updateElementContent(ankaiItems[3], 'desc_ankai_production');
    updateElementContent(ankaiItems[4], 'desc_ankai_efficiency');
    updateElementContent(ankaiItems[5], 'desc_ankai_achievement');
    updateElementContent(ankaiItems[6], 'desc_ankai_language');
  }
  
  // 格缘科技
  const geyuanItems = document.querySelectorAll('#experience .timeline-item:nth-child(2) .list-disc li');
  if (geyuanItems.length >= 6) {
    updateElementContent(geyuanItems[0], 'desc_geyuan_summary');
    updateElementContent(geyuanItems[1], 'desc_geyuan_sop');
    updateElementContent(geyuanItems[2], 'desc_geyuan_optimization');
    updateElementContent(geyuanItems[3], 'desc_geyuan_training');
    updateElementContent(geyuanItems[4], 'desc_geyuan_achievement');
    updateElementContent(geyuanItems[5], 'desc_geyuan_language');
  }
  
  // 浙江省农业科学院
  const zaasItems = document.querySelectorAll('#experience .timeline-item:nth-child(3) .list-disc li');
  if (zaasItems.length >= 4) {
    updateElementContent(zaasItems[0], 'desc_zaas_patent');
    updateElementContent(zaasItems[1], 'desc_zaas_skills');
    updateElementContent(zaasItems[2], 'desc_zaas_protein');
    updateElementContent(zaasItems[3], 'desc_zaas_team');
  }
  
  // 更新校园经历部分
  // 分子医学研究所
  const molecularItems = document.querySelectorAll('#campus-experience .timeline-item:nth-child(1) .list-disc li');
  if (molecularItems.length >= 3) {
    updateElementContent(molecularItems[0], 'project_desc_molecular_1');
    updateElementContent(molecularItems[1], 'project_desc_molecular_2');
    updateElementContent(molecularItems[2], 'project_desc_molecular_3');
  }
  
  // 分子生物学和遗传学实验室
  const labItems = document.querySelectorAll('#campus-experience .timeline-item:nth-child(2) .list-disc li');
  if (labItems.length >= 4) {
    updateElementContent(labItems[0], 'project_desc_lab_1');
    updateElementContent(labItems[1], 'project_desc_lab_2');
    updateElementContent(labItems[2], 'project_desc_lab_3');
    updateElementContent(labItems[3], 'project_desc_lab_4');
  }
  
  // 更新专业技能部分
  // 实验技能
  const labSkillsTitle = document.querySelector('#skills .grid > div:nth-child(1) h3');
  if (labSkillsTitle) {
    updateElementText(labSkillsTitle, 'skill_category_lab');
  }
  
  // 计算机技能
  const computerSkillsTitle = document.querySelector('#skills .grid > div:nth-child(2) h3');
  if (computerSkillsTitle) {
    updateElementText(computerSkillsTitle, 'skill_category_computer');
  }
  
  // 语言能力
  const languageSkillsTitle = document.querySelector('#skills .grid > div:nth-child(3) h3');
  if (languageSkillsTitle) {
    updateElementText(languageSkillsTitle, 'skill_category_language');
  }
  
  // 软技能
  const softSkillsTitle = document.querySelector('#skills .grid > div:nth-child(4) h3');
  if (softSkillsTitle) {
    updateElementText(softSkillsTitle, 'skill_category_soft');
  }
  
  // 更新证书与奖项部分
  // 国家发明专利
  const patentTitle = document.querySelector('#certificates .grid > div:nth-child(1) h3');
  if (patentTitle) {
    updateElementText(patentTitle, 'certificate_patent');
  }
  const patentOrg = document.querySelector('#certificates .grid > div:nth-child(1) p:nth-child(2)');
  if (patentOrg) {
    updateElementText(patentOrg, 'certificate_patent_org');
  }
  const patentDesc = document.querySelector('#certificates .grid > div:nth-child(1) .space-y-2 p:nth-child(1)');
  if (patentDesc) {
    updateElementText(patentDesc, 'certificate_patent_desc');
  }
  
  // 创新创业大赛奖项
  const innovationTitle = document.querySelector('#certificates .grid > div:nth-child(2) h3');
  if (innovationTitle) {
    updateElementText(innovationTitle, 'certificate_innovation');
  }
  const innovationDate = document.querySelector('#certificates .grid > div:nth-child(2) p:nth-child(2)');
  if (innovationDate) {
    updateElementText(innovationDate, 'certificate_innovation_date');
  }
  const innovation1 = document.querySelector('#certificates .grid > div:nth-child(2) .space-y-2 p:nth-child(1)');
  if (innovation1) {
    updateElementText(innovation1, 'certificate_innovation_1');
  }
  const innovation2 = document.querySelector('#certificates .grid > div:nth-child(2) .space-y-2 p:nth-child(2)');
  if (innovation2) {
    updateElementText(innovation2, 'certificate_innovation_2');
  }
  
  // 数学建模竞赛
  const mathTitle = document.querySelector('#certificates .grid > div:nth-child(3) h3');
  if (mathTitle) {
    updateElementText(mathTitle, 'certificate_math');
  }
  const mathDate = document.querySelector('#certificates .grid > div:nth-child(3) p:nth-child(2)');
  if (mathDate) {
    updateElementText(mathDate, 'certificate_math_date');
  }
  const math1 = document.querySelector('#certificates .grid > div:nth-child(3) .space-y-2 p:nth-child(1)');
  if (math1) {
    updateElementText(math1, 'certificate_math_1');
  }
  const math2 = document.querySelector('#certificates .grid > div:nth-child(3) .space-y-2 p:nth-child(2)');
  if (math2) {
    updateElementText(math2, 'certificate_math_2');
  }
  const math3 = document.querySelector('#certificates .grid > div:nth-child(3) .space-y-2 p:nth-child(3)');
  if (math3) {
    updateElementText(math3, 'certificate_math_3');
  }
  
  // 生命科学竞赛
  const scienceTitle = document.querySelector('#certificates .grid > div:nth-child(4) h3');
  if (scienceTitle) {
    updateElementText(scienceTitle, 'certificate_science');
  }
  const scienceDate = document.querySelector('#certificates .grid > div:nth-child(4) p:nth-child(2)');
  if (scienceDate) {
    updateElementText(scienceDate, 'certificate_science_date');
  }
  const science1 = document.querySelector('#certificates .grid > div:nth-child(4) .space-y-2 p:nth-child(1)');
  if (science1) {
    updateElementText(science1, 'certificate_science_1');
  }
  const science2 = document.querySelector('#certificates .grid > div:nth-child(4) .space-y-2 p:nth-child(2)');
  if (science2) {
    updateElementText(science2, 'certificate_science_2');
  }
  const science3 = document.querySelector('#certificates .grid > div:nth-child(4) .space-y-2 p:nth-child(3)');
  if (science3) {
    updateElementText(science3, 'certificate_science_3');
  }
  
  // 校园活动
  const campusTitle = document.querySelector('#certificates .grid > div:nth-child(5) h3');
  if (campusTitle) {
    updateElementText(campusTitle, 'certificate_campus');
  }
  const campusDate = document.querySelector('#certificates .grid > div:nth-child(5) p:nth-child(2)');
  if (campusDate) {
    updateElementText(campusDate, 'certificate_campus_date');
  }
  const campus1 = document.querySelector('#certificates .grid > div:nth-child(5) .mt-2 p:nth-child(1)');
  if (campus1) {
    updateElementText(campus1, 'certificate_campus_1');
  }
  const campus2 = document.querySelector('#certificates .grid > div:nth-child(5) .mt-2 p:nth-child(2)');
  if (campus2) {
    updateElementText(campus2, 'certificate_campus_2');
  }
  const campus3 = document.querySelector('#certificates .grid > div:nth-child(5) .mt-2 p:nth-child(3)');
  if (campus3) {
    updateElementText(campus3, 'certificate_campus_3');
  }
  
  // 更新联系表单
  updateElementText('#contact h3', 'send_message');
  updateElementText('label[for="name"]', 'form_name', true);
  updateElementText('label[for="email"]', 'form_email', true);
  updateElementText('label[for="subject"]', 'form_subject');
  updateElementText('label[for="message"]', 'form_message', true);
  updateElementText('#submitBtn', 'form_submit');
  updateElementText('#formSuccess', 'form_success');
  updateElementText('#nameError', 'form_name_error');
  updateElementText('#emailError', 'form_email_error');
  updateElementText('#messageError', 'form_message_error');
  
  // 更新页脚
  updateElementText('footer p.mt-2', 'footer_tagline');
  updateElementText('footer p.text-center', 'copyright');
  
  // 更新回到顶部按钮
  document.querySelector('#backToTop').setAttribute('aria-label', getText('back_to_top'));
  
  // 更新社交媒体标签
  document.querySelectorAll('a[href*="weixin"] .sr-only, a[href*="67d551257302b"] .sr-only').forEach(el => {
    el.textContent = getText('wechat');
  });
  document.querySelectorAll('a[href*="linkedin"] .sr-only').forEach(el => {
    el.textContent = getText('linkedin');
  });
  document.querySelectorAll('a[href*="github"] .sr-only').forEach(el => {
    el.textContent = getText('github');
  });
  document.querySelectorAll('a[href*="researchgate"] .sr-only').forEach(el => {
    el.textContent = getText('researchgate');
  });
  
  // 更新表单提交状态文本
  window.formSubmittingText = getText('form_submitting');
  window.formSuccessText = getText('form_success');
  window.formErrorText = getText('form_error');
}

// 辅助函数：更新元素文本
function updateElementText(selector, key, preserveAsterisk = false) {
  const element = document.querySelector(selector);
  if (element) {
    let newText = getText(key);
    
    // 如果需要保留星号（用于必填字段）
    if (preserveAsterisk && element.innerHTML.includes('*')) {
      element.innerHTML = newText + '<span class="text-red-500" aria-hidden="true">*</span>';
    } else {
      element.textContent = newText;
    }
  }
}

// 辅助函数：更新元素内容（不使用querySelector）
function updateElementContent(element, key) {
  if (element) {
    element.textContent = getText(key);
  }
}

// 初始化语言设置
function initLanguage() {
  // 检查本地存储中是否有语言偏好
  const savedLanguage = localStorage.getItem('language');
  if (savedLanguage && translations[savedLanguage]) {
    currentLanguage = savedLanguage;
  } else {
    // 检查浏览器语言
    const browserLang = navigator.language || navigator.userLanguage;
    if (browserLang.startsWith('zh-CN')) {
      currentLanguage = 'zh-CN';
    } else {
      currentLanguage = 'en';
    }
  }
  
  // 更新页面语言
  updatePageLanguage();
}

// 导出函数供全局使用
window.switchLanguage = switchLanguage;
window.updatePageLanguage = updatePageLanguage;
window.initLanguage = initLanguage;
window.getText = getText;

// 更新当前语言显示
function updateCurrentLanguageDisplay() {
  // 更新桌面端语言显示
  const currentLanguageElement = document.getElementById('current-language');
  if (currentLanguageElement) {
    // 显示目标语言（即点击后将切换到的语言）
    currentLanguageElement.textContent = currentLanguage === 'zh-CN' ? 'English' : '中文';
  }
  
  // 更新移动端语言显示
  const mobileCurrentLanguageElement = document.getElementById('mobile-current-language');
  if (mobileCurrentLanguageElement) {
    // 显示目标语言（即点击后将切换到的语言）
    mobileCurrentLanguageElement.textContent = currentLanguage === 'zh-CN' ? 'English' : '中文';
  }
  
  // 更新HTML文档的lang属性
  const htmlDocument = document.getElementById('html-document');
  if (htmlDocument) {
    htmlDocument.lang = currentLanguage === 'zh-CN' ? 'zh-CN' : 'en';
  }
}

// 导出updateCurrentLanguageDisplay函数供全局使用
window.updateCurrentLanguageDisplay = updateCurrentLanguageDisplay;

// 页面加载完成后初始化语言（确保即使在index.html中没有显式调用也能正常工作）
document.addEventListener('DOMContentLoaded', function() {
  // 初始化语言设置
  initLanguage();
  // 初始化后更新语言切换按钮文本
  updateCurrentLanguageDisplay();
});